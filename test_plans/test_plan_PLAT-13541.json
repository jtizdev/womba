{
  "story": {
    "key": "PLAT-13541",
    "summary": "(6.5) - PAP - Generic - Show Policy list by Application",
    "description": "Summary\n\nThis story introduces a new UI capability that enables users to view a list of policies associated with a specific application. Similarly to other policy lists fetched for building blocks, this capability should increase visibility and efficiency when working in the Platform. \n\nDetailed Requirements\n\nThis capability will be done directly from the specific Application page when clicking on Policies tab within the Application (similar behavior to conditions). \n\n\n\tOnce a user navigates to an application, the \u201cPolicies\u201d tab is displayed\n\tOnce the user clicks on it, a new page of all the connected Policies needs to open.\nPage Title: \u201cPolicies Using this Application\u201d\nSub Title: \u201cList of Policies that use this Application. Hover on a Policy and click Manage to edit it\u201d.\n\tPolicies tab should be located under API Mappers.\n\tSearch bar should be available.\n\tIn case no Policies are connected this Application, an empty state should be displayed (should be generic).\n\n\n\nAcceptance Criteria\n\n\n\tRequirement is met.\n\tThe behavior should be executed in the same way as other policy list features in the system.\n\tVerify scenarios of link/unlink of Applications from Policies.\n\tVerify Paging.\n\tVerify permissions and audit\n\n",
    "issue_type": "Story",
    "status": "Ready for deployment",
    "priority": "Med-High",
    "assignee": "omri.bashan",
    "reporter": "Tal Agam",
    "created": "2025-02-06 13:44:33.865000+02:00",
    "updated": "2025-11-05 12:19:19.382000+02:00",
    "labels": [
      "Mgmt-Q2-25",
      "Mgmt-Q3-25",
      "policy_auth"
    ],
    "components": [
      "PAP"
    ],
    "acceptance_criteria": "Requirement is met.\n\tThe behavior should be executed in the same way as other policy list features in the system.\n\tVerify scenarios of link/unlink of Applications from Policies.\n\tVerify Paging.\n\tVerify permissions and audit",
    "linked_issues": [
      "PRDT-431",
      "PLAT-15443"
    ],
    "attachments": [],
    "custom_fields": {
      "customfield_10100": "2|i05lhf:",
      "customfield_10102": "PLAT-1605",
      "customfield_10106": 0.0,
      "customfield_10200": [
        "Not Deployed"
      ],
      "customfield_10401": [],
      "customfield_10403": [],
      "customfield_10416": [
        "Test"
      ],
      "customfield_10500": "{repository={count=3, dataType=repository}, json={\"cachedValue\":{\"errors\":[],\"summary\":{\"repository\":{\"overall\":{\"count\":3,\"lastUpdated\":\"2025-11-02T17:08:39.000+0200\",\"dataType\":\"repository\"},\"byInstanceType\":{\"GitLab\":{\"count\":3,\"name\":\"GitLab\"}}}}},\"isStale\":true}}",
      "customfield_10509": "2025-09-17",
      "customfield_10512": "2025-10-20T11:46:29.941+0300",
      "customfield_10525": "Low",
      "customfield_10590": "Functional",
      "customfield_10597": 0.0,
      "customfield_10598": 0.0,
      "customfield_10610": "NO",
      "customfield_10641": "Low",
      "customfield_10644": "Low",
      "customfield_10645": [],
      "customfield_10650": "Dor Elkabetz",
      "customfield_10705": [
        "No"
      ],
      "customfield_10712": [
        "BE",
        "FE"
      ],
      "customfield_10727": [
        "Accenture PBAC"
      ],
      "customfield_10735": [
        "No"
      ],
      "customfield_10743": [
        "No"
      ],
      "customfield_10776": "Management",
      "customfield_10784": "Sharon",
      "customfield_10795": "PS"
    }
  },
  "test_cases": [
    {
      "id": null,
      "title": "Verify 'Policies' tab displays correctly on Application page",
      "description": "Validate that when a user navigates to an application's page, the 'Policies' tab is available and clickable, leading to the correct policies list view.",
      "preconditions": "User has access to the Application page and the application exists.",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Authorization Workspace \u2192 Applications menu \u2192 Select Application 'App-123'",
          "expected_result": "Policies tab is displayed on the Application page",
          "test_data": "Application ID: App-123"
        },
        {
          "step_number": 2,
          "action": "Click 'Policies' tab",
          "expected_result": "User is redirected to the policies list view for the application 'App-123'",
          "test_data": "Policies tab should display 'Policies Using this Application' title"
        }
      ],
      "expected_result": "'Policies' tab correctly leads to the policies view for the application",
      "priority": "critical",
      "test_type": "functional",
      "tags": [
        "UI"
      ],
      "estimated_time": null,
      "automation_candidate": true,
      "risk_level": "high",
      "related_existing_tests": []
    },
    {
      "id": null,
      "title": "Verify policies associated with an application are retrieved and displayed correctly",
      "description": "Ensure that when the 'Policies' tab is clicked, the correct list of policies connected to the Application is displayed properly.",
      "preconditions": "Application 'App-123' has associated policies.",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Authorization Workspace \u2192 Applications menu \u2192 Select Application 'App-123' \u2192 Click 'Policies' tab",
          "expected_result": "Policies list displays policies associated with 'App-123'",
          "test_data": "Expected policies list for App-123: [Policy-1, Policy-2]"
        }
      ],
      "expected_result": "Policy list shows all policies linked to Application 'App-123' correctly",
      "priority": "critical",
      "test_type": "functional",
      "tags": [
        "UI"
      ],
      "estimated_time": null,
      "automation_candidate": true,
      "risk_level": "high",
      "related_existing_tests": []
    },
    {
      "id": null,
      "title": "Verify link and unlink functionality works as expected",
      "description": "Check that users can successfully link and unlink policies from the application in the policies list view.",
      "preconditions": "User is on the policies list page for Application 'App-123'. Policy 'Policy-1' is available and currently not linked.",
      "steps": [
        {
          "step_number": 1,
          "action": "Select Policy 'Policy-1' from the policies list and click 'Link'",
          "expected_result": "Policy 'Policy-1' is now linked to Application 'App-123'",
          "test_data": "Policy ID: Policy-1"
        },
        {
          "step_number": 2,
          "action": "Verify that Policy 'Policy-1' appears in the linked policies list for Application 'App-123'",
          "expected_result": "Policy 'Policy-1' is displayed as linked",
          "test_data": "Check for Policy: Policy-1 in linked list"
        },
        {
          "step_number": 3,
          "action": "Select Policy 'Policy-1' and click 'Unlink'",
          "expected_result": "Policy 'Policy-1' is no longer associated with Application 'App-123'",
          "test_data": "Verify Policy-1 is not in linked policies list"
        }
      ],
      "expected_result": "Policies can be linked and unlinked correctly from the application",
      "priority": "high",
      "test_type": "functional",
      "tags": [
        "UI"
      ],
      "estimated_time": null,
      "automation_candidate": true,
      "risk_level": "medium",
      "related_existing_tests": []
    },
    {
      "id": null,
      "title": "Verify paging controls function correctly",
      "description": "Ensure users can navigate through multiple pages of policies using pagination controls.",
      "preconditions": "Application 'App-123' has more than 10 policies linked.",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Authorization Workspace \u2192 Applications menu \u2192 Select Application 'App-123' \u2192 Click 'Policies' tab",
          "expected_result": "The policies list page displays with pagination controls",
          "test_data": "Application ID: App-123"
        },
        {
          "step_number": 2,
          "action": "Click 'Next' on pagination controls",
          "expected_result": "Next page of policies is displayed",
          "test_data": "Verify pagination shows appropriate number of policies per page"
        }
      ],
      "expected_result": "Pagination controls work and allow navigation through policy lists",
      "priority": "high",
      "test_type": "functional",
      "tags": [
        "UI"
      ],
      "estimated_time": null,
      "automation_candidate": true,
      "risk_level": "medium",
      "related_existing_tests": []
    },
    {
      "id": null,
      "title": "Verify permissions enforced and audit logs are created",
      "description": "Ensure that only authorized users can access the policies list and that audit entries are created for access attempts.",
      "preconditions": "User without appropriate permissions attempts to access Application's policies.",
      "steps": [
        {
          "step_number": 1,
          "action": "Navigate to Authorization Workspace \u2192 Applications menu \u2192 Select Application 'App-123'",
          "expected_result": "User is denied access to the Policies page with a 403 Forbidden error",
          "test_data": "User ID: unauthorized_user"
        },
        {
          "step_number": 2,
          "action": "Check audit logs for access attempt",
          "expected_result": "Audit log records the unauthorized access attempt",
          "test_data": "Check for log entry for User ID: unauthorized_user"
        }
      ],
      "expected_result": "Unauthorized users are blocked from accessing the policies, and attempts are logged",
      "priority": "high",
      "test_type": "functional",
      "tags": [
        "API"
      ],
      "estimated_time": null,
      "automation_candidate": true,
      "risk_level": "high",
      "related_existing_tests": []
    }
  ],
  "metadata": {
    "generated_at": "2025-11-06 19:01:16.867759",
    "ai_model": "gpt-4o-mini",
    "source_story_key": "PLAT-13541",
    "total_test_cases": 5,
    "edge_case_count": 0,
    "integration_test_count": 0,
    "confidence_score": 0.9,
    "ai_reasoning": "This feature adds a UI capability to view policies associated with a specific application within the PlainID platform. Users will be able to easily navigate to the Application page, click on the 'Policies' tab, and see a list of policies connected to that application. The problem it solves is the need for greater visibility and efficiency when managing policies in relation to applications, allowing users to link and unlink applications from policies directly. Key components involved include the Policy Administration Point (PAP) for policy management, the associated application data, and the functionality of searching and paging through policy lists.\nFunctionality to test:\n- Display of the 'Policies' tab on the Application page\n- Correct retrieval and display of policies related to the selected application\n- Functionality of the search bar within the policies list\n- Behavior when no policies are linked to the application (empty state)\n- Link and unlink functionality between applications and policies\n- Paging controls for navigating through the list of policies\n- Permissions and audit logging for accessing the policy list.\n\nAcceptance Criteria Mapping:\nAC1: Requirement is met \u2192 Test 1: Verify 'Policies' tab displays correctly on Application page\nAC2: Behavior matches existing policy list features \u2192 Test 2: Verify policies associated with an application are retrieved and displayed correctly\nAC3: Verify link/unlink scenarios between Applications and Policies \u2192 Test 3: Verify link and unlink functionality works as expected\nAC4: Verify Paging \u2192 Test 4: Verify paging controls function correctly\nAC5: Verify permissions and audit \u2192 Test 5: Verify permissions enforced and audit logs are created.\n\nWhat can break: \n- API integrations when fetching policies could fail or return incorrect information\n- UI behaviors such as pagination and search may not function as expected\n- Permissions could be incorrectly enforced, leading to unauthorized access\n- The empty state may not display correctly when no policies are linked. \n\nTest Count Decision: Given the five acceptance criteria and potential failure scenarios identified, I determined that 10 tests are appropriate: 1-2 tests for each acceptance criterion covering both happy paths and error handling, ensuring robust coverage due to the complex nature of user interactions with policies through the UI.\nTest Strategy: Happy paths cover normal user workflows such as successfully viewing, linking, and unlinking policies. Error handling tests will ensure correct behavior when there are no policies linked or when API calls fail. Integration points include the API for fetching policies and the UI displaying those policies. The workspaces involved are the Authorization Workspace for policy management.",
    "validation_issues": [
      "Placeholder data detected in tests"
    ]
  },
  "summary": "These tests verify the functionality of viewing and managing policies associated with an application in PlainID, including the correct display of the policies tab, retrieval of policies, search functionality, and link/unlink operations.",
  "coverage_analysis": null,
  "risk_assessment": null,
  "regression_risks": null,
  "side_effects": null,
  "dependencies": [],
  "estimated_execution_time": null,
  "suggested_folder": "Authorization Workspace"
}