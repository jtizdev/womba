# =====================================
# Womba Configuration Template
# =====================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!

# =====================================
# API Server Configuration
# =====================================
API_HOST=0.0.0.0
API_PORT=8000
ENVIRONMENT=production
SECRET_KEY=change-me-in-production-to-a-long-random-string
LOG_LEVEL=INFO

# =====================================
# AI Provider Keys (at least one required)
# =====================================
# Anthropic (Claude) - Recommended for best results
ANTHROPIC_API_KEY=sk-ant-...

# OpenAI (GPT-4) - Alternative or supplementary
OPENAI_API_KEY=sk-...

# =====================================
# Atlassian Configuration (Required)
# =====================================
# Your Atlassian instance URL (used for both Jira and Confluence)
ATLASSIAN_BASE_URL=https://yourcompany.atlassian.net

# Atlassian user email
ATLASSIAN_EMAIL=your.email@company.com

# Atlassian API token (generate at: https://id.atlassian.com/manage-profile/security/api-tokens)
ATLASSIAN_API_TOKEN=ATATT3xFfGF0...

# =====================================
# Zephyr Scale Configuration (Optional)
# =====================================
# Required only if uploading test cases to Zephyr Scale
ZEPHYR_API_TOKEN=eyJ0eXAiOiJKV1QiLCJh...
ZEPHYR_BASE_URL=https://api.zephyrscale.smartbear.com/v2

# =====================================
# Git Provider Tokens (Optional)
# =====================================
# Required only for automated PR creation
# GitHub
GITHUB_TOKEN=ghp_...

# GitLab
GITLAB_TOKEN=glpat-...

# Bitbucket
BITBUCKET_TOKEN=...

# =====================================
# Figma Integration (Optional)
# =====================================
FIGMA_API_TOKEN=figd_...

# =====================================
# API Documentation (Optional)
# =====================================
# Your company's API documentation URL for context
API_DOCS_URL=https://docs.yourcompany.com/api
API_DOCS_TYPE=auto

# =====================================
# Database Configuration
# =====================================
DATABASE_URL=sqlite:///./womba.db

# =====================================
# Feature Flags
# =====================================
ENABLE_MCP_SERVER=true
ENABLE_CODE_GENERATION=true
ENABLE_FIGMA_INTEGRATION=false

# =====================================
# Rate Limiting
# =====================================
MAX_REQUESTS_PER_MINUTE=60

# =====================================
# AI Model Configuration
# =====================================
# Default AI model (Claude Sonnet recommended)
DEFAULT_AI_MODEL=claude-3-5-sonnet-20241022

# Temperature: 0.0-1.0 (higher = more creative, lower = more deterministic)
TEMPERATURE=0.8

# Maximum tokens for AI responses
MAX_TOKENS=10000

# =====================================
# RAG (Retrieval-Augmented Generation) Configuration
# =====================================
# Enable RAG for context-aware test generation
ENABLE_RAG=true

# ChromaDB storage path (persistent volume in Docker)
RAG_COLLECTION_PATH=/app/data/chroma

# OpenAI embedding model for semantic search
EMBEDDING_MODEL=text-embedding-3-small

# Number of similar items to retrieve from RAG
RAG_TOP_K_TESTS=5
RAG_TOP_K_DOCS=10
RAG_TOP_K_STORIES=10
RAG_TOP_K_EXISTING=20

# Automatically index test plans after generation
RAG_AUTO_INDEX=true

# Minimum hours between automatic full RAG refresh (leave empty for manual only)
# RAG_REFRESH_HOURS=24

# =====================================
# PlainID Documentation Indexing (Optional)
# =====================================
# Enable indexing of PlainID external documentation
PLAINID_DOC_INDEX_ENABLED=true

# PlainID Developer Portal URLs to crawl
# PLAINID_DOC_BASE_URL=https://docs.plainid.io
# PLAINID_DOC_URLS=["https://docs.plainid.io/apidocs/authorization-apis","https://docs.plainid.io/apidocs/policy-management-apis"]

# Crawling limits
PLAINID_DOC_MAX_PAGES=200
PLAINID_DOC_MAX_DEPTH=5
PLAINID_DOC_REQUEST_DELAY=0.3
PLAINID_DOC_PROJECT_KEY=PLAT

